type Video {
  id: ID!
  total_views: Int
  recent_views: Int
}

type ActiveUser {
  id: ID!
  count: Int
}

type Query {
  getVideo(id: ID!): Video
  listVideos: [Video]
  getActiveUsers: ActiveUser
}

type Mutation {
  addVideo(id: ID!, total_views: Int!, recent_views: Int!): Video
  updateVideo(id: ID!, total_views: Int, recent_views: Int): Video
  updateActiveUsers(count: Int!): ActiveUser
}

type Subscription {
  onUpdateVideo(id: ID): Video
    @aws_subscribe(mutations: ["updateVideo", "addVideo"])
  onUpdateActiveUsers: ActiveUser
    @aws_subscribe(mutations: ["updateActiveUsers"])
}

schema {
  query: Query
  mutation: Mutation
  subscription: Subscription
}
